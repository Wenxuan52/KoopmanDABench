# EDMD Configuration File
# Extended Dynamic Mode Decomposition training configuration

# Dataset configuration
dataset: "kolmogorov"  # Options: "kolmogorov", "cylinder", "chap"
data_path: "../data"  # Path to dataset
save_dir: "../results/checkpoints/EDMD"  # Directory to save trained models

# EDMD model parameters
edmd_params:
  svd_rank: 50  # SVD truncation rank (null for no truncation, or integer like 50)
  exact: true     # Use exact DMD (true) or projected DMD (false)
  use_streaming: false

# Dictionary functions configuration
dictionary_functions:
  # Polynomial basis functions
  polynomial:
    enabled: true
    degree: 3  # Maximum polynomial degree (1=linear, 2=quadratic, 3=cubic)
  
  # Radial Basis Functions (RBF)
  rbf:
    enabled: true  # Set to true to enable RBF
    n_centers: 20   # Number of RBF centers
    sigma: 1.0      # RBF width parameter
    center_type: "random"  # How to place centers ("random")
  
  # Fourier basis functions
  fourier:
    enabled: true  # Set to true to enable Fourier features
    frequencies: [0.5, 1.0, 2.0, 4.0]  # List of frequencies
    # Alternative: use frequency range
    # frequencies:
    #   range: [0.1, 5.0]
    #   n_frequencies: 10
  
  # Custom functions
  custom:
    enabled: false
    type: "identity"  # Currently only "identity" is implemented

# Dataset-specific parameters
dataset_params: {}
  # # For CHAP dataset
  # chemical: "Cl"  # Options: "Cl", "NH4", "NO3", "SO4"
  
  # # For Cylinder dataset
  # interpolation_mode: "bilinear"  # Options: "bilinear", "bicubic", "nearest"

# Training parameters
training:
  normalize: true      # Normalize data
  train_ratio: 0.8     # Fraction of data for training
  random_seed: 42      # Random seed for reproducibility


# Alternative configuration examples:

# Example 1: EDMD with polynomial + RBF basis
# edmd_params:
#   svd_rank: 100
#   exact: true
# 
# dictionary_functions:
#   polynomial:
#     enabled: true
#     degree: 2
#   rbf:
#     enabled: true
#     n_centers: 15
#     sigma: 0.5
#   fourier:
#     enabled: false

# Example 2: EDMD with Fourier basis for periodic systems
# edmd_params:
#   svd_rank: 50
#   exact: true
# 
# dictionary_functions:
#   polynomial:
#     enabled: true
#     degree: 1  # Linear terms only
#   fourier:
#     enabled: true
#     frequencies:
#       range: [0.1, 10.0]
#       n_frequencies: 8
#   rbf:
#     enabled: false

# Example 3: High-dimensional EDMD with comprehensive basis
# edmd_params:
#   svd_rank: 200
#   exact: true
# 
# dictionary_functions:
#   polynomial:
#     enabled: true
#     degree: 3  # Include cubic terms
#   rbf:
#     enabled: true
#     n_centers: 30
#     sigma: 2.0
#   fourier:
#     enabled: true
#     frequencies: [0.25, 0.5, 1.0, 2.0, 4.0, 8.0]
#   custom:
#     enabled: true
#     type: "identity"

# Example 4: Minimal EDMD (identity + quadratic)
# edmd_params:
#   svd_rank: null
#   exact: true
# 
# dictionary_functions:
#   polynomial:
#     enabled: true
#     degree: 2
#   rbf:
#     enabled: false
#   fourier:
#     enabled: false
#   custom:
#     enabled: true
#     type: "identity"

# Notes:
# 1. Higher polynomial degrees increase observable space dimension rapidly
# 2. More RBF centers provide better approximation but increase computation
# 3. Fourier frequencies should match system dynamics (use domain knowledge)
# 4. SVD rank should be chosen based on data dimension and available memory
# 5. For nonlinear systems, polynomial degree 2-3 is often sufficient
# 6. RBF sigma parameter should be tuned based on data scale